{% extends 'monitor/base.html' %}

{% load i18n %}

{% block content %}
<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="fa-solid fa-microchip"></i> {% trans "Top 10 Processes (CPU)" %}</h2>
        <div class="htmx-indicator spinner-border text-primary spinner-border-sm" id="proc-loading"></div>
    </div>

    <div class="card shadow">
        <div class="card-body p-0">
            <table class="table table-striped table-hover mb-0 align-middle">
                <thead class="table-dark">
                    <tr>
                        <th>PID</th>
                        <th>{% trans "Name" %}</th>
                        <th>{% trans "User" %}</th>
                        <th>{% trans "Status" %}</th>
                        <th>CPU %</th>
                        <th>RAM %</th>
                        <th class="text-end">{% trans "Actions" %}</th>
                    </tr>
                </thead>
                <tbody id="process-tbody"
                       hx-get="{% url 'processes_list' %}"
                       hx-trigger="load, every 3s"
                       hx-target="this"
                       hx-swap="innerHTML"
                       hx-indicator="#proc-loading">
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}